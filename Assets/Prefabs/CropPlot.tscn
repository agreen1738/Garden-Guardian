[gd_scene load_steps=13 format=3 uid="uid://ckxnjs0jqug4e"]

[ext_resource type="Script" path="res://Assets/Scripts/CropPlot.gd" id="1_giqam"]
[ext_resource type="Texture2D" uid="uid://nkuhol5m0bh2" path="res://Assets/Sprout Lands - Sprites - Basic pack/Tilesets/crops.png" id="2_q56jm"]
[ext_resource type="Texture2D" uid="uid://powciecmtgfh" path="res://Assets/Art/Mark.png" id="3_m0q2u"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_61msg"]
size = Vector2(153, 84)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_1jnwm"]
texture = ExtResource("2_q56jm")
texture_region_size = Vector2i(32, 32)
0:9/0 = 0
1:9/0 = 0
2:9/0 = 0
3:9/0 = 0
4:9/0 = 0
5:9/0 = 0
6:9/0 = 0
7:9/0 = 0
8:9/0 = 0
9:9/0 = 0
10:9/0 = 0
11:9/0 = 0
12:9/0 = 0
13:9/0 = 0
14:9/0 = 0
15:9/0 = 0
16:9/0 = 0
0:11/0 = 0
1:11/0 = 0
2:11/0 = 0
3:11/0 = 0
4:11/0 = 0
5:11/0 = 0
6:11/0 = 0
7:11/0 = 0
8:11/0 = 0
9:11/0 = 0
10:11/0 = 0
11:11/0 = 0
12:11/0 = 0
13:11/0 = 0
14:11/0 = 0
15:11/0 = 0
16:11/0 = 0
17:11/0 = 0
18:11/0 = 0
19:11/0 = 0
20:11/0 = 0
21:11/0 = 0
22:11/0 = 0
23:11/0 = 0
24:11/0 = 0
25:11/0 = 0
26:11/0 = 0
27:11/0 = 0
28:11/0 = 0
29:11/0 = 0
30:11/0 = 0
31:11/0 = 0
10:12/0 = 0
0:13/0 = 0
1:13/0 = 0
2:13/0 = 0
3:13/0 = 0
4:13/0 = 0
5:13/0 = 0
6:13/0 = 0
7:13/0 = 0
8:13/0 = 0
9:13/0 = 0
10:13/0 = 0
11:13/0 = 0
12:13/0 = 0
13:13/0 = 0
14:13/0 = 0
15:13/0 = 0
16:13/0 = 0
17:13/0 = 0
18:13/0 = 0
19:13/0 = 0
20:13/0 = 0
21:13/0 = 0
22:13/0 = 0
23:13/0 = 0
24:13/0 = 0
25:13/0 = 0
26:13/0 = 0
27:13/0 = 0
28:13/0 = 0
29:13/0 = 0
30:13/0 = 0
31:13/0 = 0
0:14/0 = 0
7:14/0 = 0
10:14/0 = 0
26:14/0 = 0
27:14/0 = 0
28:14/0 = 0
0:15/0 = 0
1:15/0 = 0
2:15/0 = 0
3:15/0 = 0
4:15/0 = 0
5:15/0 = 0
6:15/0 = 0
7:15/0 = 0
8:15/0 = 0
9:15/0 = 0
10:15/0 = 0
11:15/0 = 0
12:15/0 = 0
13:15/0 = 0
14:15/0 = 0
15:15/0 = 0
16:15/0 = 0
17:15/0 = 0
18:15/0 = 0
19:15/0 = 0
20:15/0 = 0
21:15/0 = 0
22:15/0 = 0
23:15/0 = 0
24:15/0 = 0
25:15/0 = 0
26:15/0 = 0
27:15/0 = 0
28:15/0 = 0
29:15/0 = 0
30:15/0 = 0
31:15/0 = 0
0:16/0 = 0
7:16/0 = 0
9:16/0 = 0
10:16/0 = 0
14:16/0 = 0
15:16/0 = 0
26:16/0 = 0
27:16/0 = 0
28:16/0 = 0
0:17/0 = 0
1:17/0 = 0
2:17/0 = 0
3:17/0 = 0
4:17/0 = 0
5:17/0 = 0
6:17/0 = 0
7:17/0 = 0
8:17/0 = 0
9:17/0 = 0
10:17/0 = 0
11:17/0 = 0
12:17/0 = 0
13:17/0 = 0
14:17/0 = 0
15:17/0 = 0
16:17/0 = 0
17:17/0 = 0
18:17/0 = 0
19:17/0 = 0
20:17/0 = 0
21:17/0 = 0
22:17/0 = 0
23:17/0 = 0
24:17/0 = 0
25:17/0 = 0
26:17/0 = 0
27:17/0 = 0
28:17/0 = 0
29:17/0 = 0
30:17/0 = 0
31:17/0 = 0
25:18/0 = 0
26:18/0 = 0
27:18/0 = 0
28:18/0 = 0
2:19/0 = 0
3:19/0 = 0
4:19/0 = 0
5:19/0 = 0
6:19/0 = 0
7:19/0 = 0
8:19/0 = 0
9:19/0 = 0
10:19/0 = 0
11:19/0 = 0
12:19/0 = 0
13:19/0 = 0
14:19/0 = 0
15:19/0 = 0
16:19/0 = 0
17:19/0 = 0
18:19/0 = 0
19:19/0 = 0
20:19/0 = 0
21:19/0 = 0
22:19/0 = 0
23:19/0 = 0
24:19/0 = 0
25:19/0 = 0
26:19/0 = 0
27:19/0 = 0
28:19/0 = 0
29:19/0 = 0
30:19/0 = 0
31:19/0 = 0
29:21/0 = 0
30:21/0 = 0
31:21/0 = 0
29:22/0 = 0
30:22/0 = 0
29:23/0 = 0
30:23/0 = 0
31:23/0 = 0
29:24/0 = 0
30:24/0 = 0
29:25/0 = 0
30:25/0 = 0
31:25/0 = 0
29:26/0 = 0
30:26/0 = 0
29:27/0 = 0
30:27/0 = 0
31:27/0 = 0
29:28/0 = 0
30:28/0 = 0
29:29/0 = 0
30:29/0 = 0
31:29/0 = 0
27:10/0 = 0
27:12/0 = 0

[sub_resource type="TileSet" id="TileSet_k7dnb"]
tile_size = Vector2i(32, 32)
sources/0 = SubResource("TileSetAtlasSource_1jnwm")

[sub_resource type="Animation" id="Animation_pm3pr"]
resource_name = "Crops Ready"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Mark:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}

[sub_resource type="Animation" id="Animation_cp2bt"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Mark:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_rwfy6"]
_data = {
"Crops Ready": SubResource("Animation_pm3pr"),
"RESET": SubResource("Animation_cp2bt")
}

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_5tm5e"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_t8sjh"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_p7n3s"]
states/Float/node = SubResource("AnimationNodeBlendSpace2D_5tm5e")
states/Float/position = Vector2(350, 100)
transitions = ["Start", "Float", SubResource("AnimationNodeStateMachineTransition_t8sjh")]

[node name="CropPlot" type="Area2D"]
z_index = 1
collision_layer = 0
script = ExtResource("1_giqam")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_61msg")

[node name="emptyCrop" type="TileMap" parent="."]
position = Vector2(-16, 10)
tile_set = SubResource("TileSet_k7dnb")
format = 2
layer_0/name = "EmptyCrop"
layer_0/tile_data = PackedInt32Array(-65538, 1048576, 9, -65537, 393216, 9, -131072, 983040, 9, -131071, 1048576, 9, -65535, 393216, 9, -65534, 65536, 9, 2, 720896, 9, -131070, 917504, 9, 1, 262144, 9, 0, 983040, 9, 65535, 458752, 9, -1, 589824, 9, -65536, 589824, 9, 65534, 917504, 9, -2, 393216, 9)
layer_1/name = "top"
layer_1/z_index = 1
layer_1/tile_data = PackedInt32Array()

[node name="stage1" type="TileMap" parent="."]
visible = false
position = Vector2(-16, 10)
tile_set = SubResource("TileSet_k7dnb")
format = 2
layer_0/name = "Stage1"
layer_0/z_index = 1
layer_0/navigation_enabled = false
layer_0/tile_data = PackedInt32Array(-65538, 393216, 11, -2, 262144, 11, 65534, 393216, 11, -65537, 262144, 11, -1, 196608, 11, 65535, 196608, 11, -131072, 131072, 11, -65536, 196608, 11, 0, 131072, 11, -131071, 131072, 11, -65535, 131072, 11, 1, 327680, 11, -131070, 327680, 11, -65534, 393216, 11, 2, 131072, 11)

[node name="stage2" type="TileMap" parent="."]
visible = false
position = Vector2(-16, 10)
tile_set = SubResource("TileSet_k7dnb")
format = 2
layer_0/name = "Stage2"
layer_0/z_index = 2
layer_0/tile_data = PackedInt32Array(-65538, 393216, 13, -2, 262144, 13, 65534, 393216, 13, -65537, 262144, 13, -1, 196608, 13, 65535, 196608, 13, -131072, 131072, 13, -65536, 196608, 13, 0, 131072, 13, -131071, 131072, 13, -65535, 131072, 13, 1, 393216, 13, -131070, 393216, 13, -65534, 393216, 13, 2, 131072, 13)

[node name="stage3" type="TileMap" parent="."]
visible = false
position = Vector2(-16, 7)
tile_set = SubResource("TileSet_k7dnb")
format = 2
layer_0/name = "Stage3"
layer_0/z_index = 3
layer_0/tile_data = PackedInt32Array(-65538, 393216, 17, -2, 262144, 17, 65534, 393216, 17, -65537, 262144, 17, -1, 196608, 17, 65535, 196608, 17, -131072, 131072, 17, -65536, 196608, 17, 0, 131072, 17, -131071, 131072, 17, -65535, 131072, 17, 1, 393216, 17, -131070, 393216, 17, -65534, 393216, 17, 2, 131072, 17)

[node name="grabTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[node name="growthTimer" type="Timer" parent="."]
wait_time = 5.0
autostart = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_rwfy6")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_p7n3s")
parameters/Float/blend_position = Vector2(-0.00160003, 0.015873)

[node name="Mark" type="Sprite2D" parent="."]
z_index = 8
position = Vector2(0, -50)
scale = Vector2(3, 3)
texture = ExtResource("3_m0q2u")
hframes = 4

[connection signal="area_shape_exited" from="." to="." method="_on_area_shape_exited"]
[connection signal="body_entered" from="." to="." method="_on_body_entered"]
[connection signal="body_exited" from="." to="." method="_on_body_exited"]
[connection signal="timeout" from="grabTimer" to="." method="_on_grab_timer_timeout"]
[connection signal="timeout" from="growthTimer" to="." method="_on_growth_timer_timeout"]
